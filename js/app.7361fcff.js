(function(t){function e(e){for(var r,s,o=e[0],l=e[1],c=e[2],u=0,v=[];u<o.length;u++)s=o[u],a[s]&&v.push(a[s][0]),a[s]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);d&&d(e);while(v.length)v.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],r=!0,o=1;o<n.length;o++){var l=n[o];0!==a[l]&&(r=!1)}r&&(i.splice(e--,1),t=s(s.s=n[0]))}return t}var r={},a={app:0},i=[];function s(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=r,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(n,r,function(e){return t[e]}.bind(null,r));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var d=l;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var r=n("64a9"),a=n.n(r);a.a},1:function(t,e){},2:function(t,e){},3:function(t,e){},4:function(t,e){},"56d7":function(t,e,n){"use strict";n.r(e);n("c5f6"),n("ac6a"),n("456d"),n("cadf"),n("551c"),n("f751"),n("097d");var r=n("a026"),a=n("ce5b"),i=n.n(a),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("v-app",{attrs:{id:"inspire"}},[n("v-content",[n("v-container",{staticStyle:{margin:"18px auto 15px"},attrs:{"grid-list-md":""}},[n("v-layout",{attrs:{"justify-center":"",row:"",wrap:""}},[n("v-flex",{attrs:{sm12:"",md10:"",lg6:""}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{staticClass:"text-xs-center text-sm-left",attrs:{xs12:"",sm6:""}},[n("router-link",{attrs:{to:"/"}},[n("img",{staticStyle:{height:"45px"},attrs:{alt:"",src:"static/assets/i/logo.svg"}})])],1),n("v-flex",{staticClass:"text-xs-center text-sm-right",attrs:{xs12:"",sm6:""}},[n("v-btn",{attrs:{to:"/",outline:""}},[t._v("Main")]),n("v-btn",{attrs:{to:"/model",outline:""}},[t._v("Model")]),n("v-btn",{attrs:{to:"/market",outline:""}},[t._v("Market")]),n("v-btn",{attrs:{to:"/robot",outline:""}},[t._v("Robot")])],1)],1)],1)],1)],1),n("web3-check",{scopedSlots:t._u([{key:"error",fn:function(t){return["network"===t.error.type?n("div",[n("DepNetwork")],1):"account"===t.error.type?n("div",[n("NotAccounts")],1):n("div",[n("NotWeb3")],1)]}}])},[n("template",{slot:"load"},[n("Load")],1),t.ready?n("router-view"):t._e()],2)],1)],1)],1)},o=[],l=n("0963"),c=n.n(l),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{fluid:"","fill-height":""}},[n("v-layout",{attrs:{"justify-center":"","align-center":""}},[n("v-flex",{attrs:{"text-xs-center":""}},[n("h1",[t._v("Please, setup one of the suggested plugins for working with dApp")]),n("div",[n("a",{attrs:{href:"https://metamask.io/",target:"_blank"}},[t._v("Official website")])])])],1)],1)},u=[],v={name:"NotWeb3"},f=v,h=n("2877"),p=Object(h["a"])(f,d,u,!1,null,null,null),m=p.exports,b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{fluid:"","fill-height":""}},[n("v-layout",{attrs:{"justify-center":"","align-center":""}},[n("v-flex",{attrs:{"text-xs-center":""}},[n("h1",[t._v("Dapp only works on the main network")]),n("div",[t._v("For work, you need to switch the network.")])])],1)],1)},g=[],y={name:"DepNetwork"},_=y,w=Object(h["a"])(_,b,g,!1,null,null,null),x=w.exports,k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{fluid:"","fill-height":""}},[n("v-layout",{attrs:{"justify-center":"","align-center":""}},[n("v-flex",{attrs:{"text-xs-center":""}},[n("h1",[t._v("Not found accounts wallet")]),n("div",[t._v("Please unlock metamask account and try to refresh browser page.")])])],1)],1)},j=[],S={name:"NotAccounts"},O=S,C=Object(h["a"])(O,k,j,!1,null,null,null),A=C.exports,R=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{fluid:"","fill-height":""}},[n("v-layout",{attrs:{"justify-center":"","align-center":""}},[n("v-flex",{attrs:{"text-xs-center":""}},[n("h1",[t._v("Load dApp")]),n("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1)],1)],1)},M=[],N={name:"DepNetwork"},L=N,F=Object(h["a"])(L,R,M,!1,null,null,null),T=F.exports,E=n("4aac"),P=n.n(E),B=5,Q={1:{ens:"",ensSuffix:"",lighthouse:"airalab.lighthouse.5.robonomics.eth"},4451:{ens:"0xaC4Ac4801b50b74aa3222B5Ba282FF54407B3941",ensSuffix:"sid",lighthouse:"airalab.lighthouse.5.robonomics.sid"}},D="Qmd6bn2JGW26hSx7g5gVCmfgB7uigRPrhAukJn77ee3bMM",J="QmVAFgUxBitKqtV2sjaYcHkKfcAPVy3GswhaE5n5bcgLkf",$="https://devjs-01.corp.aira.life:3024/",U=null,W="XRT",I=9,q=0,V={model:"QmPVr7k4N2jNiCYjbvQWPcmxzm5jwY3ZHEuJMgbQLmPKvY",objectives:{"1h":{objective:"QmPtwRTjPmvBweSmG4zVGtUc9KWxLsPp76xERvjUXFJWEz",label:"1h"},"24h":{objective:"QmbYXWWhNtnjhhBTvs2UfHiFLTUsXSZsoLoKSufiZHPxvR",label:"24h"},"60s":{objective:"QmYijVc27M27WyS1UiAB72GmeDBKVo2Nyvh1EYXUBZUNJb",label:"60s"}}},Y={model:"QmNeMoBUiYjk4VzLtsBe9XAXfpyFawsUd9wEYTQy4tZpEj",objectives:{clockwise:{objective:"QmRmj9VnRBbgmQwZMVU3oCinaYG8oh1UAvQJbtPUmEWSq1",label:"clockwise"},counterclockwise:{objective:"Qmd1YREP5MMLzoxT2kmvEocPxFMGFiCrLK6zQRmp5ebBqU",label:"counterclockwise"}}},G={repo:"ipfs/robonomics",relay:{enabled:!0,hop:{enabled:!0}},EXPERIMENTAL:{pubsub:!0},config:{Addresses:{Swarm:["/dns4/ws-star.discovery.libp2p.io/tcp/443/wss/p2p-websocket-star","/dns4/1.wsstar.aira.life/tcp/443/wss/p2p-websocket-star/","/dns4/2.wsstar.aira.life/tcp/443/wss/p2p-websocket-star/"]},Bootstrap:["/dns4/ams-1.bootstrap.libp2p.io/tcp/443/wss/ipfs/QmSoLer265NRgSp2LA3dPaeykiS1J6DifTC88f5uVQKNAd","/dns4/lon-1.bootstrap.libp2p.io/tcp/443/wss/ipfs/QmSoLMeWqB7YGVLJN3pNLQpmmEk35v6wYtsMGLzSr5QBU3","/dns4/nyc-1.bootstrap.libp2p.io/tcp/443/wss/ipfs/QmSoLueR4xBeUbY9WZ9xGUUxunbKWcrNFTDAadQJmocnWm","/dns4/nyc-2.bootstrap.libp2p.io/tcp/443/wss/ipfs/QmSoLV4Bbm51jM9C4gDYZQ9Cy3U6aXMJDAbzgu2fzaDs64","/dns4/node0.preload.ipfs.io/tcp/443/wss/ipfs/QmZMxNdpMkewiVZLMRxaNxUeZpDUb34pWjZ1kZvsd16Zic","/dns4/node1.preload.ipfs.io/tcp/443/wss/ipfs/Qmbut9Ywz9YEDrz8ySBSgWyJk41Uvm2QJPhwDJzJyGFsD6","/dns4/1.pubsub.aira.life/tcp/443/wss/ipfs/QmdfQmbmXt6sqjZyowxPUsmvBsgSGQjm4VXrV7WGy62dv8","/dns4/2.pubsub.aira.life/tcp/443/wss/ipfs/QmPTFt7GJ2MfDuVYwJJTULr6EnsQtGVp8ahYn9NSyoxmd9"]}},Z=null,z=function(t,e){return Z=new P.a({web3:web3,account:{address:web3.eth.accounts[0]},ens:{address:Q[Number(e)].ens,suffix:Q[Number(e)].ensSuffix,version:B},messageProvider:new E["MessageProviderIpfs"](t),lighthouse:Q[Number(e)].lighthouse}),Z},K=function(){if(null===Z)throw new Error("Robonomics not init");return Z},X=K,H=(n("5df3"),n("f684")),tt=n.n(H),et=n("bc3a"),nt=n.n(et),rt=n("3852"),at=n.n(rt),it=null,st=function(){if(null!==it)return tt.a.resolve(it);var t=function(t,e){it=new Ipfs(G),it.once("ready",function(){return it.id(function(n,r){if(n)return e(n);console.log("ipfs id "+r.id),window.ipfsi=it,t(it)})})},e=function(e,n){"undefined"!==typeof window&&window.ipfs?window.ipfs.swarm.peers().then(function(){it=window.ipfs,e(it)}).catch(function(){console.log("not glogal ipfs"),t(e,n)}):t(e,n)};return"complete"!==document.readyState?new tt.a(function(t,n){window.addEventListener("load",function(){e(t,n)})}):new tt.a(function(t,n){e(t,n)})},ot=st;function lt(){return new tt.a(function(){})}function ct(t){return t.catch(lt)}function dt(t){return tt.a.race(t.map(ct))}var ut,vt,ft,ht,pt,mt=function(t){return nt.a.get("https://ipfs.io/ipfs/".concat(t),{responseType:"blob"}).then(function(t){return t.data})},bt=function(t){var e=[mt(t)];return at()(it,"cat")?e.push(it.cat(t)):at()(it,"files")&&at()(it.files,"cat")&&e.push(it.files.cat(t)),dt(e)},gt={name:"App",components:{NotWeb3:m,DepNetwork:x,NotAccounts:A,Load:T},data:function(){return{ready:!1}},mounted:function(){var t=this;c.a.store.on("load",function(e){ot().then(function(n){z(n,e.networkId),t.ready=!0})})}},yt=gt,_t=(n("034f"),Object(h["a"])(yt,s,o,!1,null,null,null)),wt=_t.exports,xt=n("8c4f"),kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",{staticClass:"text-xs-center"},[t._v("Fuji weather")]),t.robonomicsStatus?t._e():n("v-container",{staticClass:"px-3",attrs:{fluid:"","fill-height":""}},[n("v-layout",{attrs:{"justify-center":"","align-center":""}},[n("v-flex",{attrs:{"text-xs-center":""}},[n("h1",[t._v("Load robonomics")]),n("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1)],1)],1),t.robonomicsStatus?n("v-container",{staticClass:"px-3",attrs:{"grid-list-md":""}},[n("v-layout",{attrs:{"justify-center":"",row:"",wrap:""}},[n("v-flex",{attrs:{xs12:"",md10:"",lg6:""}},[n("v-card",[n("v-card-text",[n("v-container",{staticClass:"px-3",attrs:{"grid-list-md":""}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{staticClass:"text-xs-center",attrs:{md12:""}},[t._v("\n                  Lighthouse:\n                  "),n("b",[t._v(t._s(t.lighthouse.name))]),n("v-btn",{attrs:{loading:t.loadingOrder,disabled:t.loadingOrder,color:"primary"},nativeOn:{click:function(e){return t.order(e)}}},[t._v("Order")])],1)],1)],1)],1)],1)],1)],1),null!==t.demand?n("v-layout",{attrs:{"justify-center":"",row:"",wrap:""}},[n("v-flex",{attrs:{xs12:"",md10:"",lg6:""}},[n("v-card",[n("v-card-title",{attrs:{"primary-title":""}},[n("div",[n("h3",{staticClass:"headline mb-0"},[t._v("Received data")])])]),n("v-card-text",[0===t.frees.length?n("v-progress-linear",{attrs:{indeterminate:!0}}):t._l(t.frees,function(e,r){return n("div",{key:r},[n("b",[t._v("IPFS hash of data:")]),n("a",{attrs:{href:"https://ipfs.io/ipfs/"+e.hash,target:"_blank"}},[t._v(t._s(e.hash))]),n("br"),0===e.result.length?n("v-progress-linear",{attrs:{indeterminate:!0}}):n("div",t._l(e.result,function(e,r){return n("div",{key:r},[n("div",{staticStyle:{border:"1px solid #cccaca",margin:"10px 0",width:"200px",padding:"10px","text-align":"center"}},[n("img",{attrs:{width:"64",height:"64",src:"//openweathermap.org/themes/openweathermap/assets/vendor/owm/img/widgets/"+e.json.weather[0].icon+".png"}}),n("v-divider"),n("div",{staticStyle:{"padding-top":"15px"}},[n("b",[t._v("\n                        "+t._s(parseInt(e.json.main.temp)-273)+"\n                        "),n("span",[t._v("°C")])])])],1),n("code",{staticStyle:{width:"100%"}},[n("pre",[t._v(t._s(e.str))])])])}),0),n("v-divider",{staticClass:"my-3"})],1)})],2)],1)],1)],1):t._e()],1):t._e()],1)},jt=[],St=(n("7f7f"),n("51f5")),Ot=n.n(St),Ct=n("1cba"),At=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(Ct["open"])(t).then(function(t){return t.readMessages(n,function(t){e(t)})})},Rt={data:function(){return{robonomicsStatus:!1,token:null,loadingOrder:!1,model:D,lighthouse:{name:"",address:""},demand:null,frees:[]}},created:function(){var t=this;ot().then(function(){return X()}).then(function(e){ut=e,ut.ready().then(function(){t.token=U?new E["Token"](ut.web3,U):ut.xrt,t.lighthouse.name=ut.lighthouse.name,t.lighthouse.address=ut.lighthouse.address,ut.onDemand(t.model,function(e){e.sender===ut.account.address&&(t.demand=e)}),ut.onResult(function(e){if(console.log("result unverified",e),ut.web3.toChecksumAddress(e.liability)===ut.web3.toChecksumAddress(ut.account.address)){var n=Ot()(t.frees,function(t){return t.hash===e.result});if(n<0){t.frees.push({hash:e.result,result:[]});var r=t.frees.length-1;bt(e.result).then(function(e){At(new Blob([e]),function(e){var n=JSON.parse(e.message.data);t.frees[r].result.push({json:n,str:JSON.stringify(n,void 0,2)})},{topics:["/data"]})})}}}),t.robonomicsStatus=!0})})},methods:{order:function(){var t=this;this.loadingOrder=!0,web3.eth.getBlock("latest",function(e,n){var r={model:t.model,objective:J,token:t.token.address,cost:q,lighthouse:ut.lighthouse.address,validator:"0x0000000000000000000000000000000000000000",validatorFee:0,deadline:n.number+1e3};ut.send("demand",r).then(function(){t.loadingOrder=!1}).catch(function(){t.loadingOrder=!1})})}}},Mt=Rt,Nt=Object(h["a"])(Mt,kt,jt,!1,null,null,null),Lt=Nt.exports,Ft=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",{staticClass:"text-xs-center"},[t._v("Select weather")]),t.robonomicsStatus?t._e():n("v-container",{staticClass:"px-3",attrs:{fluid:"","fill-height":""}},[n("v-layout",{attrs:{"justify-center":"","align-center":""}},[n("v-flex",{attrs:{"text-xs-center":""}},[n("h1",[t._v("Load robonomics")]),n("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1)],1)],1),t.robonomicsStatus?n("v-container",{staticClass:"px-3",attrs:{"grid-list-md":""}},[n("v-layout",{attrs:{"justify-center":"",row:"",wrap:""}},[n("v-flex",{attrs:{xs12:"",md10:"",lg6:""}},[n("v-card",[n("v-card-text",[n("v-container",{staticClass:"px-3",attrs:{"grid-list-md":""}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{staticClass:"text-xs-center",attrs:{md12:""}},[t._v("\n                  Lighthouse:\n                  "),n("b",[t._v(t._s(t.lighthouse.name))]),n("div",{staticClass:"my-3"},[n("b",[t._v(t._s(t.model))])]),t.agents.list.length>0?n("div",{staticClass:"my-3"},[t._v("\n                    Agents:\n                    "),n("a",{attrs:{href:t.agents.url,target:"_blank"}},[t._v(t._s(t.agents.list.length))])]):t._e(),""!==t.modelError?n("v-alert",{attrs:{value:!0,type:"error"}},[t._v(t._s(t.modelError))]):t._e(),""===t.modelError?n("v-btn",{attrs:{loading:t.loadingOrder,disabled:t.loadingOrder,color:"primary"},nativeOn:{click:function(e){return t.order(e)}}},[t._v("Order")]):t._e()],1)],1)],1)],1)],1)],1)],1),null!==t.demand?n("v-layout",{attrs:{"justify-center":"",row:"",wrap:""}},[n("v-flex",{attrs:{xs12:"",md10:"",lg6:""}},[n("v-card",[n("v-card-title",{attrs:{"primary-title":""}},[n("div",[n("h3",{staticClass:"headline mb-0"},[t._v("Received data")])])]),n("v-card-text",[0===t.frees.length?n("v-progress-linear",{attrs:{indeterminate:!0}}):t._l(t.frees,function(e,r){return n("div",{key:r},[n("b",[t._v("IPFS hash of data:")]),n("a",{attrs:{href:"https://ipfs.io/ipfs/"+e.hash,target:"_blank"}},[t._v(t._s(e.hash))]),n("br"),0===e.result.length?n("v-progress-linear",{attrs:{indeterminate:!0}}):n("div",t._l(e.result,function(e,r){return n("div",{key:r},[n("div",{staticStyle:{border:"1px solid #cccaca",margin:"10px 0",width:"200px",padding:"10px","text-align":"center"}},[n("img",{attrs:{width:"64",height:"64",src:"//openweathermap.org/themes/openweathermap/assets/vendor/owm/img/widgets/"+e.json.weather[0].icon+".png"}}),n("v-divider"),n("div",{staticStyle:{"padding-top":"15px"}},[n("b",[t._v("\n                        "+t._s(parseInt(e.json.main.temp)-273)+"\n                        "),n("span",[t._v("°C")])])])],1),n("code",{staticStyle:{width:"100%"}},[n("pre",[t._v(t._s(e.str))])])])}),0),n("v-divider",{staticClass:"my-3"})],1)})],2)],1)],1)],1):t._e()],1):t._e()],1)},Tt=[],Et=n("ba84"),Pt=n.n(Et),Bt=(n("3b2b"),n("a481"),n("28a5"),n("6b54"),function(t,e){var n=new web3.BigNumber(t);return n.shift(-e).toString(10)}),Qt=function(){var t=new URL(location.href),e="https://raw.githubusercontent.com/"+t.hostname.split(".")[0]+"/"+t.pathname.replace(new RegExp("/","g"),"")+"/master/fuji_weather_dapp/model.txt";return nt.a.get(e).then(function(t){return t.data.trim()}).catch(function(){return"Qmd6bn2JGW26hSx7g5gVCmfgB7uigRPrhAukJn77ee3bMM"})},Dt=function(){var t=new URL(location.href),e="https://raw.githubusercontent.com/"+t.hostname.split(".")[0]+"/"+t.pathname.replace(new RegExp("/","g"),"")+"/master/fuji_weather_dapp/agents.txt";return nt.a.get(e).then(function(e){var n=e.data.trim(),r=[];return n.split("\n").forEach(function(t){var e=web3.toChecksumAddress(t.trim().substr(0,42));web3.isAddress(e)&&r.push(e)}),{url:"https://github.com/"+t.hostname.split(".")[0]+"/"+t.pathname.replace(new RegExp("/","g"),"")+"/blob/master/fuji_weather_dapp/agents.txt",list:r}}).catch(function(){return{url:"",list:[]}})},Jt={data:function(){return{robonomicsStatus:!1,token:null,loadingOrder:!1,lighthouse:{name:"",address:""},demand:null,frees:[],model:"",modelError:"",agents:{url:"",list:[]}}},created:function(){var t=this;Qt().then(function(e){return""!==e&&46===e.length&&/^Qm/.test(e)?t.model=e:t.modelError="Error model",Dt()}).then(function(e){return t.agents=e,ot()}).then(function(){return X()}).then(function(e){vt=e,vt.ready().then(function(){t.token=U?new E["Token"](vt.web3,U):vt.xrt,t.lighthouse.name=vt.lighthouse.name,t.lighthouse.address=vt.lighthouse.address,vt.onDemand(t.model,function(e){e.sender===vt.account.address&&(t.demand=e)}),vt.onResult(function(e){if(console.log("result unverified",e),vt.web3.toChecksumAddress(e.liability)===vt.web3.toChecksumAddress(vt.account.address)){if(t.agents.list.length>0&&Pt()(t.agents.list,e.sender)<0)return void console.log("Skip result of",e.sender);var n=Ot()(t.frees,function(t){return t.hash===e.result});if(n<0){t.frees.push({hash:e.result,result:[]});var r=t.frees.length-1;bt(e.result).then(function(e){At(new Blob([e]),function(e){var n=JSON.parse(e.message.data);t.frees[r].result.push({json:n,str:JSON.stringify(n,void 0,2)})},{topics:["/data"]})})}}}),t.robonomicsStatus=!0})})},methods:{order:function(){var t=this;46===this.model.length&&/^Qm/.test(this.model)&&(this.loadingOrder=!0,web3.eth.getBlock("latest",function(e,n){var r={model:t.model,objective:J,token:t.token.address,cost:q,lighthouse:vt.lighthouse.address,validator:"0x0000000000000000000000000000000000000000",validatorFee:0,deadline:n.number+1e3};vt.send("demand",r).then(function(){t.loadingOrder=!1}).catch(function(){t.loadingOrder=!1})}))}}},$t=Jt,Ut=Object(h["a"])($t,Ft,Tt,!1,null,null,null),Wt=Ut.exports,It=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",{staticClass:"text-xs-center"},[t._v("Welcome to the First Robonomics IoT market!")]),t.robonomicsStatus?t._e():n("v-container",{staticClass:"px-3",attrs:{fluid:"","fill-height":""}},[n("v-layout",{attrs:{"justify-center":"","align-center":""}},[n("v-flex",{attrs:{"text-xs-center":""}},[n("h1",[t._v("Load robonomics")]),n("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1)],1)],1),t.robonomicsStatus?n("v-container",{staticClass:"px-3",attrs:{"grid-list-md":""}},[n("v-layout",{attrs:{"justify-center":"",row:"",wrap:""}},[n("v-flex",{attrs:{sm12:"",md10:"",lg6:""}},[n("v-card",[n("v-card-title",{attrs:{"primary-title":""}},[n("v-container",{attrs:{"grid-list-md":""}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{staticClass:"text-xs-center",attrs:{md12:""}},[n("h3",{staticClass:"headline mb-0 text-xs-center"},[t._v("Digital market channel / Lighthouse:")]),n("b",[t._v(t._s(t.lighthouseName))])])],1)],1)],1),n("v-card-text",[n("demand-form",{ref:"demandForm"}),t.price.value>0?n("v-container",{attrs:{"grid-list-md":""}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{md12:""}},[n("div",[t._v("\n                    Cost: "+t._s(t.price.valueStr)+" |\n                    Balance: "+t._s(t.balance.valueStr)+" |\n                    Approved: "+t._s(t.approveTrade.valueStr)+"\n                  ")])])],1)],1):t._e(),t.isOrder?n("div",{staticClass:"text-xs-center"},[t.approveTrade.value<t.price.value?n("v-btn",{attrs:{loading:t.loadingApprove,disabled:t.loadingApprove||t.balance.value<t.price.value,color:"warning"},nativeOn:{click:function(e){return t.sendApproveTrade(e)}}},[t._v("Approve")]):t._e(),t.approveTrade.value>=t.price.value?n("v-btn",{attrs:{loading:t.loadingOrder,disabled:t.loadingOrder||t.balance.value<t.price.value,color:"warning"},nativeOn:{click:function(e){return t.order(e)}}},[t._v("Order")]):t._e()],1):n("div",{staticClass:"text-xs-center"},[n("v-btn",{attrs:{disabled:"",color:"warning"}},[t._v("Please, choose offer bellow")])],1)],1)],1),t.liability?n("v-card",[n("v-card-title",{attrs:{"primary-title":""}},[n("div",[n("h3",{staticClass:"headline mb-0"},[t._v("Received data")])])]),n("v-card-text",[n("Liability",{attrs:{liability:t.liability}})],1)],1):t._e(),n("v-card",[n("v-card-title",{attrs:{"primary-title":""}},[n("v-container",{attrs:{"grid-list-md":""}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{md12:""}},[n("h3",{staticClass:"headline mb-0 text-xs-center"},[t._v("Offers")])])],1)],1)],1),n("v-card-text",[n("v-btn-toggle",{on:{change:t.load},model:{value:t.toggle_filter,callback:function(e){t.toggle_filter=e},expression:"toggle_filter"}},[n("v-btn",{attrs:{value:"h",flat:""}},[t._v("hour")]),n("v-btn",{attrs:{value:"d",flat:""}},[t._v("day")]),n("v-btn",{attrs:{value:"m",flat:""}},[t._v("month")])],1),n("v-divider"),null===t.offers?n("v-progress-linear",{attrs:{indeterminate:!0}}):n("div",[n("v-list",{attrs:{"two-line":""}},[n("v-data-iterator",{attrs:{items:t.offers,pagination:t.pagination,"hide-actions":""},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"item",fn:function(e){return[n("v-list-tile",{attrs:{avatar:""},on:{click:function(n){return t.setForm(e.item.id)}}},[n("v-list-tile-avatar",[n("span",{domProps:{innerHTML:t._s(t.icon(e.item.account))}})]),n("v-list-tile-content",[n("v-list-tile-title",{domProps:{innerHTML:t._s(e.item.account)}}),n("v-list-tile-sub-title",{domProps:{innerHTML:t._s(e.item.msg.model)}})],1)],1),n("v-divider")]}}],null,!1,3793783361)})],1),t.pages>1?n("v-pagination",{attrs:{length:t.pages},model:{value:t.pagination.page,callback:function(e){t.$set(t.pagination,"page",e)},expression:"pagination.page"}}):t._e()],1)],1)],1)],1)],1)],1):t._e()],1)},qt=[],Vt=n("cebc"),Yt=n("2769"),Gt=n.n(Yt),Zt=n("9380"),zt=n.n(Zt),Kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.liability.address?n("div",[n("b",[t._v("liability: ")]),t._v(t._s(t.liability.address)),n("br"),n("b",[t._v("model: ")]),t._v(t._s(t.liability.model)),n("br"),n("b",[t._v("objective: ")]),t._v(t._s(t.liability.objective)),n("br"),n("b",[t._v("token: ")]),t._v(t._s(t.liability.token)),n("br"),n("b",[t._v("cost: ")]),t._v(t._s(t.liability.cost)),n("br"),n("b",[t._v("promisee: ")]),t._v(t._s(t.liability.promisee)),n("br"),n("b",[t._v("promisor: ")]),t._v(t._s(t.liability.promisor)),n("br")]):t._e(),""!=t.liability.result?n("span",[n("b",[t._v("IPFS hash of data: ")]),n("a",{attrs:{href:"https://ipfs.io/ipfs/"+t.liability.result,target:"_blank"}},[t._v(t._s(t.liability.result))]),!0===t.liability.check?n("v-icon",{attrs:{large:"",color:"green darken-2"}},[t._v("mdi-check")]):t._e(),!1===t.liability.check?n("v-icon",{attrs:{large:"",color:"blue-grey darken-2"}},[t._v("mdi-alert-circle-outline")]):t._e(),n("br"),n("b",[t._v("Data: ")]),0===t.liability.resultMessage.length?n("v-progress-linear",{attrs:{indeterminate:!0}}):n("div",t._l(t.liability.resultMessage,function(e,r){return n("div",{key:r},[1===e.type?n("div",[n("div",{staticStyle:{border:"1px solid #cccaca",margin:"10px 0",width:"200px",padding:"10px","text-align":"center"}},[n("img",{attrs:{width:"64",height:"64",src:"//openweathermap.org/themes/openweathermap/assets/vendor/owm/img/widgets/"+e.json.weather[0].icon+".png"}}),n("v-divider"),n("div",{staticStyle:{"padding-top":"15px"}},[n("b",[t._v(t._s(parseInt(e.json.main.temp)-273)),n("span",[t._v("°C")])])])],1),n("code",{staticStyle:{width:"100%"}},[n("pre",[t._v(t._s(e.str))])])]):2===e.type?n("div",[n("code",{staticStyle:{width:"100%"}},[n("pre",[t._v(t._s(e.str))])])]):n("p",[t._v(t._s(e.str))])])}),0)],1):t._e(),""==t.liability.result?n("span",[n("b",[t._v("IPFS hash of data: ")]),n("v-progress-linear",{attrs:{indeterminate:!0}})],1):t._e()])},Xt=[],Ht={name:"Liability",props:["liability"]},te=Ht,ee=(n("cbdf"),Object(h["a"])(te,Kt,Xt,!1,null,null,null)),ne=ee.exports,re=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[n("v-text-field",{attrs:{rules:t.requireRule,label:"model",required:""},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}}),n("v-text-field",{attrs:{rules:t.requireRule,label:"objective",required:""},model:{value:t.objective,callback:function(e){t.objective=e},expression:"objective"}}),n("v-text-field",{attrs:{rules:t.requireRule,label:"token",required:""},model:{value:t.token,callback:function(e){t.token=e},expression:"token"}}),n("v-text-field",{attrs:{label:"cost",required:""},model:{value:t.cost,callback:function(e){t.cost=e},expression:"cost"}}),n("v-text-field",{attrs:{rules:t.requireRule,label:"deadline",required:""},model:{value:t.deadline,callback:function(e){t.deadline=e},expression:"deadline"}})],1)],1)},ae=[],ie={data:function(){return{valid:!1,model:"",objective:"",token:"",cost:"",deadline:"",requireRule:[function(t){return!!t||"Field required"}]}}},se=ie,oe=Object(h["a"])(se,re,ae,!1,null,null,null),le=oe.exports,ce=null,de=function(t){if(null===ce)return ce=io($),void ce.on("connect",function(){console.log("connect"),t(ce)});t(ce)},ue=de,ve={components:{Liability:ne,DemandForm:le},data:function(){return{robonomicsStatus:!1,token:null,price:{value:0,valueStr:""},loadingApprove:!1,loadingOrder:!1,isOrder:!1,balance:{value:0,valueStr:""},approveTrade:{value:0,valueStr:""},lighthouseName:"",liability:null,offers:[],pagination:{rowsPerPage:10},toggle_filter:"h"}},computed:{pages:function(){return null==this.pagination.rowsPerPage||null==this.pagination.totalItems?0:Math.ceil(this.pagination.totalItems/this.pagination.rowsPerPage)}},created:function(){var t=this;return ot().then(function(){return X()}).then(function(t){return ft=t,ft.ready()}).then(function(){console.log("xrt",ft.xrt.address),console.log("factory",ft.factory.address),console.log("lighthouse",ft.lighthouse.address),t.lighthouseName=ft.lighthouse.name,ft.onDemand(null,function(t){console.log("demand",t)}),ft.onResult(function(e){console.log("result unverified",e),ft.web3.toChecksumAddress(e.liability)===ft.web3.toChecksumAddress(ft.account.address)?(t.liability={address:"",resultMessage:[]},t.setResult(e.result,!0)):null!==t.liability&&e.liability===t.liability.address&&t.setResult(e.result,!1)}),t.load(),ue(function(e){e.on("add",function(e){t.offers.unshift({msg:JSON.parse(e.msg),id:e.id,account:e.account})}),e.on("remove",function(e){t.offers=zt()(t.offers,function(t){return t.id!==e})})}),t.robonomicsStatus=!0})},methods:{load:function(){var t=this;this.offers=null,nt.a.get($+this.toggle_filter).then(function(e){t.offers=[],e.data.result.forEach(function(e){t.offers.push({msg:JSON.parse(e.msg),id:e.id,account:e.account})})})},icon:function(t){return jdenticon.toSvg(t,40)},setForm:function(t){var e=this;this.isOrder=!1;var n=Gt()(this.offers,{id:t});this.$refs.demandForm.model=n.msg.model,this.$refs.demandForm.objective=n.msg.objective,this.$refs.demandForm.token=n.msg.token,this.$refs.demandForm.cost=n.msg.cost,this.$refs.demandForm.deadline=n.msg.deadline,this.price.value=Number(n.msg.cost),this.price.value>0?(this.token=new E["Token"](ft.web3,n.msg.token),tt.a.join(this.token.call.decimals(),this.token.call.symbol(),function(t,n){return e.token.decimals=t,e.token.symbol=n,e.price.valueStr="".concat(Bt(e.price.value,e.token.decimals)," ").concat(e.token.symbol),e.fetchBalance()}).then(function(){e.isOrder=!0})):this.isOrder=!0},fetchBalance:function(){var t=this;return this.token.call.balanceOf(ft.account.address).then(function(e){return t.balance.value=e,t.balance.valueStr="".concat(Bt(e,t.token.decimals)," ").concat(t.token.symbol),e>0?t.token.call.allowance(ft.account.address,ft.factory.address):0}).then(function(e){t.approveTrade.value=e,t.approveTrade.valueStr="".concat(Bt(e,t.token.decimals)," ").concat(t.token.symbol)})},sendApproveTrade:function(){var t=this;return this.loadingApprove=!0,this.token.send.approve(ft.factory.address,100*this.price.value,{from:ft.account.address}).then(function(){return t.fetchBalance()}).then(function(){t.loadingApprove=!1}).catch(function(){t.loadingApprove=!1})},setResult:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.liability=Object(Vt["a"])({},this.liability,{result:t,check:n}),0===this.liability.resultMessage.length&&(this.liability.resultMessage.push(""),bt(t).then(function(t){At(new Blob([t]),function(t){try{var n=JSON.parse(t.message.data);at()(n,"weather")?e.liability.resultMessage.push({type:1,json:n,str:JSON.stringify(n,void 0,2)}):e.liability.resultMessage.push({type:2,str:JSON.stringify(n,void 0,2)})}catch(r){e.liability.resultMessage.push({type:3,str:t.message.data})}},{})}))},newLiability:function(t){var e=this;return console.log("liability demand",t.address),t.getInfo().then(function(n){return e.liability=Object(Vt["a"])({address:t.address,worker:t.worker},n,{resultMessage:[]}),t.onResult().then(function(t){console.log("result",t),e.setResult(t,!0)}),!0}).catch(function(n){console.log(n),setTimeout(function(){e.newLiability(t)},2e3)})},order:function(){var t=this;if(this.$refs.demandForm.$refs.form.validate()){this.liability=null,this.loadingOrder=!0;var e={model:this.$refs.demandForm.model,objective:this.$refs.demandForm.objective,token:this.$refs.demandForm.token,cost:this.$refs.demandForm.cost,lighthouse:ft.lighthouse.address,validator:"0x0000000000000000000000000000000000000000",validatorFee:0,deadline:this.$refs.demandForm.deadline};ft.sendDemand(e).then(function(e){return t.newLiability(e)}).then(function(){t.loadingOrder=!1}).catch(function(){t.loadingOrder=!1})}}}},fe=ve,he=Object(h["a"])(fe,It,qt,!1,null,null,null),pe=he.exports,me=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",{staticClass:"text-xs-center"},[t._v("Welcome to the First Robonomics IoT market!")]),t.robonomicsStatus?t._e():n("v-container",{staticClass:"px-3",attrs:{fluid:"","fill-height":""}},[n("v-layout",{attrs:{"justify-center":"","align-center":""}},[n("v-flex",{attrs:{"text-xs-center":""}},[n("h1",[t._v("Load robonomics")]),n("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1)],1)],1),t.robonomicsStatus?n("v-container",{staticClass:"px-3",attrs:{"grid-list-md":""}},[n("v-layout",{attrs:{"justify-center":"",row:"",wrap:""}},[n("v-flex",{attrs:{sm12:"",md10:"",lg6:""}},[n("v-card",[n("v-card-title",{attrs:{"primary-title":""}},[n("h3",{staticClass:"headline mb-0"},[t._v("Create contarct")])]),n("v-card-text",[n("v-select",{attrs:{items:t.objectives,label:"Objective"},model:{value:t.objective,callback:function(e){t.objective=e},expression:"objective"}}),t.price.value>0?n("v-container",{attrs:{"grid-list-md":""}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{md12:""}},[n("div",[t._v("\n                    Cost: "+t._s(t.price.valueStr)+" |\n                    Balance: "+t._s(t.balance.valueStr)+" |\n                    Approved: "+t._s(t.approveTrade.valueStr)+"\n                  ")])])],1)],1):t._e(),t.approveTrade.value<t.price.value?n("v-btn",{attrs:{loading:t.loadingApprove,disabled:t.loadingApprove||t.balance.value<t.price.value,color:"primary"},nativeOn:{click:function(e){return t.sendApproveTrade(e)}}},[t._v("Approve")]):t._e(),t.approveTrade.value>=t.price.value?n("v-btn",{attrs:{loading:t.loadingOrder,disabled:t.loadingOrder||t.balance.value<t.price.value,color:"primary"},nativeOn:{click:function(e){return t.order(e)}}},[t._v("Order")]):t._e()],1)],1)],1)],1),n("v-layout",{attrs:{"justify-center":"",row:"",wrap:""}},[n("v-flex",{attrs:{sm12:"",md10:"",lg6:""}},[n("v-card",[n("v-card-title",{attrs:{"primary-title":""}},[n("div",[n("h3",{staticClass:"headline mb-0"},[t._v("Contact")])])]),n("v-card-text",[n("liability-form",{ref:"liabilityForm"}),n("v-btn",{attrs:{color:"primary"},nativeOn:{click:function(e){return t.show(e)}}},[t._v("Show")])],1)],1)],1)],1),t.liability?n("v-layout",{attrs:{"justify-center":"",row:"",wrap:""}},[n("v-flex",{attrs:{sm12:"",md10:"",lg6:""}},[n("Service",{attrs:{liability:t.liability}})],1)],1):t._e()],1):t._e()],1)},be=[],ge=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",[n("v-card-title",{attrs:{"primary-title":""}},[n("div",[n("h3",{staticClass:"headline mb-0"},[t._v("Liability "+t._s(t.liability.address))])])]),n("v-card-text",[""!=t.liability.result?n("div",[n("b",[t._v("Results:")]),n("a",{attrs:{href:"https://ipfs.io/ipfs/"+t.liability.result,target:"_blank"}},[t._v(t._s(t.liability.result))]),!0===t.liability.check?n("v-icon",{attrs:{large:"",color:"green darken-2"}},[t._v("mdi-check")]):t._e(),!1===t.liability.check?n("v-icon",{attrs:{large:"",color:"blue-grey darken-2"}},[t._v("mdi-alert-circle-outline")]):t._e(),n("br"),t.liability.resultMessage.length<=1?n("v-progress-linear",{attrs:{indeterminate:!0}}):n("div",t._l(t.liability.resultMessage,function(e,r){return n("div",{key:r},[1===e.type?n("div",[n("code",{staticStyle:{width:"100%"}},[n("pre",[t._v(t._s(e.str))])])]):n("p",[t._v(t._s(e.str))])])}),0)],1):n("div",[t._l(t.actions,function(e,r){return n("span",{key:r},[n("v-btn",{attrs:{loading:e.loading,disabled:e.loading,color:"warning"},nativeOn:{click:function(e){return t.runAction(r)}}},[t._v(t._s(e.name))])],1)}),n("v-divider"),n("div",{staticStyle:{margin:"10px 0"}},[n("h2",[t._v("Logs")]),n("div",{staticStyle:{border:"1px solid #6b6060",height:"200px","overflow-y":"scroll"}},[n("ol",t._l(t.logs,function(e,r){return n("li",{key:r,staticStyle:{padding:"5px"},style:{backgroundColor:1===e.type?"#f8f8f8":"#eeeeee"}},[t._v(t._s(e.msg))])}),0)])])],2)])],1)},ye=[],_e={props:["liability"],data:function(){return{actions:[],logs:[]}},created:function(){var t=this;return Object.keys(Y.objectives).forEach(function(e){t.actions.push({loading:!1,name:Y.objectives[e].label,model:Y.model,objective:Y.objectives[e].objective})}),ot().then(function(){return X()}).then(function(t){return ht=t,ht.ready()}).then(function(){ht.onDemand(null,function(t){console.log("demand",t)}),ht.onResult(function(e){console.log("result",e),ht.web3.toChecksumAddress(e.liability)===ht.web3.toChecksumAddress(ht.account.address)&&t.setResult(e.result,e.success)})})},methods:{runAction:function(t){var e=this;this.actions[t].loading=!0,ht.web3.eth.getBlock("latest",function(n,r){var a={model:e.actions[t].model,objective:e.actions[t].objective,token:ht.xrt.address,cost:0,lighthouse:ht.lighthouse.address,validator:"0x0000000000000000000000000000000000000000",validatorFee:0,deadline:r.number+100};ht.send("demand",a).then(function(){e.actions[t].loading=!1,e.logs.push({type:1,msg:'Run action "'.concat(e.actions[t].name,'"')})}).catch(function(){e.actions[t].loading=!1})})},setResult:function(t,e){var n=this,r=-1;bt(t).then(function(t){return At(new Blob([t]),function(t){"/objective"===t.topic&&(r=Ot()(n.actions,{objective:t.message.data}))},{topics:["/objective"]})}).then(function(){r>=0&&at()(n.actions,r)&&(e?n.logs.push({type:2,msg:'Done action "'.concat(n.actions[r].name,'"')}):n.logs.push({type:2,msg:'Not done action "'.concat(n.actions[r].name,'"')}))})}}},we=_e,xe=(n("f2c5"),Object(h["a"])(we,ge,ye,!1,null,null,null)),ke=xe.exports,je=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[n("v-text-field",{attrs:{rules:t.requireRule,label:"address",required:""},model:{value:t.address,callback:function(e){t.address=e},expression:"address"}})],1)],1)},Se=[],Oe={data:function(){return{valid:!1,address:"",requireRule:[function(t){return!!t||"Field required"}]}}},Ce=Oe,Ae=Object(h["a"])(Ce,je,Se,!1,null,null,null),Re=Ae.exports,Me={components:{Service:ke,LiabilityForm:Re},data:function(){return{robonomicsStatus:!1,objectives:[],objective:{},token:null,price:{value:q,valueStr:"".concat(q," ").concat(W)},loadingApprove:!1,loadingOrder:!1,balance:{value:0,valueStr:"0 ".concat(W)},approveTrade:{value:0,valueStr:"0 ".concat(W)},liability:null}},created:function(){var t=this;return Object.keys(V.objectives).forEach(function(e){t.objectives.push({value:V.objectives[e].objective,text:V.objectives[e].label})}),this.objective=V.objectives["1h"].objective,ot().then(function(t){return console.log(t),X()}).then(function(t){return pt=t,pt.ready()}).then(function(){t.token=pt.xrt,console.log("xrt",pt.xrt.address),console.log("factory",pt.factory.address),console.log("lighthouse",pt.lighthouse.address),pt.onDemand(V.model,function(t){console.log("demand",t)}),pt.onOffer(V.model,function(t){console.log("offer",t)}),pt.onResult(function(e){console.log("result unverified",e),null!==t.liability&&e.liability===t.liability.address&&t.setResult(e.result,!1)}),t.fetchData().then(function(){t.robonomicsStatus=!0})})},methods:{emulatorKfc:function(t){var e={model:V.model,objective:t.objective,token:t.token,cost:t.cost,validator:t.validator,lighthouse:t.lighthouse,lighthouseFee:0,deadline:t.deadline};return pt.sendOffer(e).then(function(t){return console.log("liability offer",t.address),pt.sendResult({liability:t.address,success:!0,result:"QmSKmcZscjDCkHx4db5mHkhbtmeWfUEMcmTpwhpnwWaLAJ"})}).then(function(){console.log("result send msg")})},fetchData:function(){var t=this;return this.token.call.balanceOf(pt.account.address).then(function(e){return t.balance.value=e,t.balance.valueStr="".concat(Bt(e,I)," ").concat(W),e>0&&t.token.call.allowance(pt.account.address,pt.factory.address)}).then(function(e){e&&(t.approveTrade.value=e,t.approveTrade.valueStr="".concat(Bt(e,I)," ").concat(W))})},sendApproveTrade:function(){var t=this;return this.loadingApprove=!0,this.token.send.approve(pt.factory.address,100*this.price.value,{from:pt.account.address}).then(function(){return t.loadingApprove=!1,t.fetchData()}).catch(function(){t.loadingApprove=!1})},setResult:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.liability=Object(Vt["a"])({},this.liability,{result:t,check:n}),0===this.liability.resultMessage.length&&(this.liability.resultMessage.push({type:2,str:""}),bt(t).then(function(t){At(new Blob([t]),function(t){try{var n=JSON.parse(t.message.data);e.liability.resultMessage.push({type:1,str:JSON.stringify(n,void 0,2)})}catch(r){e.liability.resultMessage.push({type:2,str:t.message.data})}},{})}))},newLiability:function(t){var e=this;return console.log("liability demand",t.address),t.getInfo().then(function(n){return e.liability=Object(Vt["a"])({address:t.address,worker:t.worker},n,{resultMessage:[]}),t.onResult().then(function(t){console.log("result",t),e.setResult(t,!0)}),!0}).catch(function(n){console.log(n),setTimeout(function(){e.newLiability(t)},2e3)})},order:function(){var t=this;this.liability=null,this.loadingOrder=!0,pt.web3.eth.getBlock("latest",function(e,n){var r={model:V.model,objective:t.objective,token:t.token.address,cost:t.price.value,lighthouse:pt.lighthouse.address,validator:"0x0000000000000000000000000000000000000000",validatorFee:0,deadline:n.number+100};pt.sendDemand(r).then(function(e){t.$refs.liabilityForm.address=e.address,setTimeout(function(){t.show()},500)}).then(function(){t.loadingOrder=!1}).catch(function(){t.loadingOrder=!1})})},show:function(){if(this.$refs.liabilityForm.$refs.form.validate()){var t=new E["Liability"](pt.web3,this.$refs.liabilityForm.address,"");this.newLiability(t),t.getInfo().then(function(t){console.log(t)})}}}},Ne=Me,Le=Object(h["a"])(Ne,me,be,!1,null,null,null),Fe=Le.exports;r["default"].use(xt["a"]);var Te=new xt["a"]({routes:[{path:"/",name:"All",component:Lt},{path:"/model",name:"Model",component:Wt},{path:"/market",name:"Market",component:pe},{path:"/robot",name:"Robot",component:Fe}]});n("bf40");r["default"].config.productionTip=!1,r["default"].use(i.a),c.a.store.on("update",function(t){(null!==t.state.old.account&&t.action.type===l["ACTIONS"].UPD_ACCOUNT||null!==t.state.old.networkId&&t.action.type===l["ACTIONS"].UPD_NETWORK_ID)&&window.location.reload(!1)});var Ee=Object.keys(Q).map(function(t){return Number(t)});r["default"].use(c.a,{Web3:Web3,networks:Ee,requireAccount:!0}),new r["default"]({router:Te,render:function(t){return t(wt)}}).$mount("#app")},"64a9":function(t,e,n){},"87b6":function(t,e,n){},a29e:function(t,e,n){},cbdf:function(t,e,n){"use strict";var r=n("87b6"),a=n.n(r);a.a},f2c5:function(t,e,n){"use strict";var r=n("a29e"),a=n.n(r);a.a}});
//# sourceMappingURL=app.7361fcff.js.map